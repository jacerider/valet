{"version":3,"sources":["valet.js","valet.ts"],"names":["_regeneratorRuntime","exports","Op","Object","prototype","hasOwn","hasOwnProperty","defineProperty","obj","key","desc","value","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","enumerable","configurable","writable","err","wrap","innerFn","outerFn","self","tryLocsList","context","state","protoGenerator","Generator","generator","create","Context","method","arg","Error","doneResult","delegate","delegateResult","maybeInvokeDelegate","methodName","undefined","TypeError","ContinueSentinel","record","tryCatch","type","info","done","resultName","next","nextLoc","sent","_sent","dispatchException","abrupt","fn","call","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","this","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","forEach","_invoke","AsyncIterator","PromiseImpl","previousPromise","callInvokeWithMethodAndArg","resolve","reject","invoke","result","_typeof","__await","then","unwrapped","error","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","iterable","i","iteratorMethod","isNaN","length","displayName","isGeneratorFunction","genFun","ctor","constructor","name","mark","setPrototypeOf","__proto__","awrap","async","Promise","iter","keys","val","object","reverse","pop","skipTempReset","prev","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","catch","thrown","delegateYield","_classCallCheck","instance","Constructor","_defineProperties","target","props","descriptor","_toPropertyKey","_createClass","protoProps","staticProps","_toPrimitive","String","input","hint","prim","toPrimitive","Number","res","__awaiter","thisArg","_arguments","P","fulfilled","step","e","rejected","apply","ExoValet","_this","isOpen","keysPressed","onResults","setTimeout","autoCompleteJS","goTo","onSelection","selection","detail","url","go","getData","_callee","cacheId","data","_data","_context","$element","dataset","localStorage","JSON","parse","getItem","oldCacheId","setItem","fetchData","dataString","stringify","t0","_callee2","_context2","fetch","drupalSettings","path","baseUrl","source","json","document","getElementById","$input","$close","bind","build","_this2","addEventListener","event","preventDefault","open","close","autoComplete","selector","src","cache","threshold","debounce","resultsList","element","list","createElement","classList","add","results","innerHTML","concat","matches","query","append","noResults","maxResults","tabSelect","resultItem","item","id","setAttribute","match","description","split","highlight","replace","window","location","pathname","substring","disabled","_this3","focus","remove"],"mappings":"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","file":"valet.js","sourcesContent":["var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n(function () {\n    class ExoValet {\n        /**\n         * Construct.\n         */\n        constructor() {\n            this.isOpen = false;\n            this.keysPressed = {};\n            this.onResults = e => {\n                setTimeout(() => {\n                    this.autoCompleteJS.goTo(0);\n                });\n            };\n            this.onSelection = e => {\n                const feedback = e.detail;\n                const selection = feedback.selection.value;\n                if (typeof selection.url === 'string') {\n                    this.go(selection.url);\n                }\n            };\n            this.getData = () => __awaiter(this, void 0, void 0, function* () {\n                try {\n                    const cacheId = this.$element.dataset.cacheId;\n                    let data = localStorage ? JSON.parse(localStorage.getItem('exoValet')) : null;\n                    if (localStorage && data !== null) {\n                        const oldCacheId = localStorage.getItem('exoValetCacheId');\n                        if (cacheId !== oldCacheId) {\n                            localStorage.setItem('exoValetCacheId', cacheId);\n                            data = null;\n                        }\n                    }\n                    // Fetch new data.\n                    if (data === null) {\n                        const data = yield this.fetchData().then(data => {\n                            const dataString = JSON.stringify(data);\n                            if (dataString !== JSON.stringify({})) {\n                                localStorage.setItem('exoValet', dataString);\n                            }\n                            return data;\n                        });\n                        return data;\n                    }\n                    else {\n                        return data;\n                    }\n                }\n                catch (e) {\n                    return e;\n                }\n            });\n            this.fetchData = () => __awaiter(this, void 0, void 0, function* () {\n                try {\n                    const source = yield fetch(drupalSettings.path.baseUrl + 'api/valet');\n                    const data = yield source.json();\n                    return data;\n                }\n                catch (e) {\n                    return e;\n                }\n            });\n            this.$element = document.getElementById('valet');\n            this.$input = document.getElementById('valet--input');\n            this.$close = document.getElementById('valet--close');\n            this.bind();\n            this.build();\n        }\n        bind() {\n            // On keydown.\n            document.addEventListener('keydown', (event) => {\n                this.keysPressed[event.key] = true;\n                if (this.keysPressed['Shift'] && this.keysPressed[' ']) {\n                    event.preventDefault();\n                    this.open();\n                }\n                if (this.isOpen === true && this.keysPressed['Escape']) {\n                    event.preventDefault();\n                    this.close();\n                }\n            });\n            // On keyup.\n            document.addEventListener('keyup', (event) => {\n                delete this.keysPressed[event.key];\n            });\n            // On valet click.\n            this.$element.addEventListener('click', e => {\n                e.preventDefault();\n                if (e.target === this.$element) {\n                    this.close();\n                }\n            });\n            // On close button click.\n            this.$close.addEventListener('click', e => {\n                e.preventDefault();\n                this.close();\n            });\n        }\n        build() {\n            this.autoCompleteJS = new autoComplete({\n                selector: '#valet--input',\n                data: {\n                    src: this.getData,\n                    cache: true,\n                    keys: ['label'],\n                },\n                threshold: 1,\n                debounce: 50,\n                resultsList: {\n                    element: (list, data) => {\n                        const info = document.createElement('p');\n                        info.classList.add('overview');\n                        if (data.results.length > 0) {\n                            info.innerHTML = `Displaying <strong>${data.results.length}</strong> out of <strong>${data.matches.length}</strong> results`;\n                        }\n                        else {\n                            info.innerHTML = `Found <strong>${data.matches.length}</strong> matching results for <strong>\"${data.query}\"</strong>`;\n                        }\n                        list.append(info);\n                    },\n                    noResults: true,\n                    maxResults: 6,\n                    tabSelect: true\n                },\n                resultItem: {\n                    element: (item, data) => {\n                        if (item.id === 'autoComplete_result_0') {\n                            // Prevent style snapping.\n                            item.setAttribute('aria-selected', true);\n                        }\n                        // Modify Results Item Content\n                        item.innerHTML = `\n            <span class=\"title\">\n              ${data.match}\n            </span>\n            <span class=\"description\">\n              ${data.value.description}\n            </span>\n            <span class=\"url\">\n              ${data.value.url.split('?')[0]}\n            </span>`;\n                    },\n                    highlight: true\n                },\n            });\n            this.autoCompleteJS.input.addEventListener('results', this.onResults);\n            this.autoCompleteJS.input.addEventListener('selection', this.onSelection);\n            // this.open();\n        }\n        go(value) {\n            value = value.replace('RETURN_URL', window.location.pathname.substring(1));\n            if (this.keysPressed['Shift']) {\n                this.close();\n                window.open(value);\n            }\n            else {\n                this.$input.setAttribute('placeholder', 'Please wait...');\n                this.$input.value = '';\n                this.$input.disabled = true;\n                window.location = value;\n            }\n        }\n        open() {\n            this.isOpen = true;\n            this.$element.classList.add('valet--active');\n            this.$input.value = '';\n            setTimeout(() => {\n                this.$input.focus();\n            }, 300);\n        }\n        close() {\n            this.isOpen = false;\n            this.$element.classList.remove('valet--active');\n        }\n    }\n    new ExoValet();\n})();\n","declare var autoComplete:any;\ndeclare var drupalSettings:any;\n\n(function () {\n\n  class ExoValet {\n    public $element: HTMLElement;\n    public $input: HTMLInputElement;\n    public $close: HTMLElement;\n    public isOpen: boolean = false;\n    public autoCompleteJS: any;\n    public keysPressed: Object = {};\n\n    /**\n     * Construct.\n     */\n    constructor() {\n      this.$element = document.getElementById('valet');\n      this.$input = document.getElementById('valet--input') as HTMLInputElement;\n      this.$close = document.getElementById('valet--close');\n\n      this.bind();\n      this.build();\n    }\n\n    protected bind() {\n      // On keydown.\n      document.addEventListener('keydown', (event) => {\n        this.keysPressed[event.key] = true;\n        if (this.keysPressed['Shift'] && this.keysPressed[' ']) {\n          event.preventDefault();\n          this.open();\n        }\n        if (this.isOpen === true && this.keysPressed['Escape']) {\n          event.preventDefault();\n          this.close();\n        }\n      });\n      // On keyup.\n      document.addEventListener('keyup', (event) => {\n        delete this.keysPressed[event.key];\n      });\n      // On valet click.\n      this.$element.addEventListener('click', e => {\n        e.preventDefault();\n        if (e.target === this.$element) {\n          this.close();\n        }\n      });\n      // On close button click.\n      this.$close.addEventListener('click', e => {\n        e.preventDefault();\n        this.close();\n      });\n    }\n\n    protected build() {\n      this.autoCompleteJS = new autoComplete({\n        selector: '#valet--input',\n        data: {\n          src: this.getData,\n          cache: true,\n          keys: ['label'],\n        },\n        threshold: 1,\n        debounce: 50,\n        resultsList: {\n          element: (list, data) => {\n            const info = document.createElement('p');\n            info.classList.add('overview');\n            if (data.results.length > 0) {\n              info.innerHTML = `Displaying <strong>${data.results.length}</strong> out of <strong>${data.matches.length}</strong> results`;\n            } else {\n              info.innerHTML = `Found <strong>${data.matches.length}</strong> matching results for <strong>\"${data.query}\"</strong>`;\n            }\n            list.append(info);\n          },\n          noResults: true,\n          maxResults: 6,\n          tabSelect: true\n        },\n        resultItem: {\n          element: (item, data) => {\n            if (item.id === 'autoComplete_result_0') {\n              // Prevent style snapping.\n              item.setAttribute('aria-selected', true);\n            }\n            // Modify Results Item Content\n            item.innerHTML = `\n            <span class=\"title\">\n              ${data.match}\n            </span>\n            <span class=\"description\">\n              ${data.value.description}\n            </span>\n            <span class=\"url\">\n              ${data.value.url.split('?')[0]}\n            </span>`;\n          },\n          highlight: true\n        },\n      });\n      this.autoCompleteJS.input.addEventListener('results', this.onResults);\n      this.autoCompleteJS.input.addEventListener('selection', this.onSelection);\n      // this.open();\n    }\n\n    public onResults = e => {\n      setTimeout(() => {\n        this.autoCompleteJS.goTo(0);\n      });\n    }\n\n    public onSelection = e => {\n      const feedback = e.detail;\n      const selection = feedback.selection.value;\n      if (typeof selection.url === 'string') {\n        this.go(selection.url);\n      }\n    }\n\n    public go(value) {\n      value = value.replace('RETURN_URL', window.location.pathname.substring(1));\n      if (this.keysPressed['Shift']) {\n        this.close();\n        window.open(value);\n      }\n      else {\n        this.$input.setAttribute('placeholder', 'Please wait...');\n        this.$input.value = '';\n        this.$input.disabled = true;\n        window.location = value;\n      }\n    }\n\n    public getData = async () => {\n      try {\n        const cacheId = this.$element.dataset.cacheId;\n        let data = localStorage ? JSON.parse(localStorage.getItem('exoValet')) : null;\n        if (localStorage && data !== null) {\n          const oldCacheId = localStorage.getItem('exoValetCacheId');\n          if (cacheId !== oldCacheId) {\n            localStorage.setItem('exoValetCacheId', cacheId);\n            data = null;\n          }\n        }\n        // Fetch new data.\n        if (data === null) {\n          const data = await this.fetchData().then(data => {\n            const dataString = JSON.stringify(data);\n            if (dataString !== JSON.stringify({})) {\n              localStorage.setItem('exoValet', dataString);\n            }\n            return data;\n          });\n          return data;\n        }\n        else {\n          return data;\n        }\n      } catch (e) {\n        return e;\n      }\n    }\n\n    protected fetchData = async () => {\n      try {\n        const source = await fetch(\n          drupalSettings.path.baseUrl + 'api/valet'\n        );\n        const data = await source.json();\n        return data;\n      } catch (e) {\n        return e;\n      }\n    }\n\n    public open() {\n      this.isOpen = true;\n      this.$element.classList.add('valet--active');\n      this.$input.value = '';\n      setTimeout(() => {\n        this.$input.focus();\n      }, 300);\n    }\n\n    public close() {\n      this.isOpen = false;\n      this.$element.classList.remove('valet--active');\n    }\n\n  }\n\n  new ExoValet();\n\n})();\n"]}